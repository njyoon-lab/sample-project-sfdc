pipeline {
    agent {
        docker {
            image 'njyoon/sfdc:latest'
        }
    }
    environment {
        MY_SECRET_FILE = credentials('SALESFORCE_SERVER_KEY')
        SF_USER = credentials('SF_CREDENTIALS')
        SF_CLIENT_ID = credentials('SF_CLIENT_ID')
    }
    stages {
        stage('Debugging Environment') {
            steps {
                // Try to print the PATH using the 'bash' step
                bash 'echo "PATH is: $PATH"'
                
                // Try to find the location of the bash and sh executables
                bash 'which bash'
                bash 'which sh'
                
                // Try to run a simple command using its absolute path, bypassing PATH
                sh '/bin/echo "Attempting to run /bin/echo..."'
            }
        }
        stage('Install Salesforce CLI') {
            steps {
                bash 'sf --version'
            }
        }
        // ... rest of your stages
    }
}